\chapter{Απαιτήσεις, Εγκατάσταση \& Ρύθμιση Πλατφόρμας}
Παρακάτω θα βρείτε τις απαιτήσεις συστήματος και τις οδηγίες εγκατάστασης και ρύθμισης της πλατφόρμας.

\section{Απαιτήσεις Συστήματος}

\subsection{PHP}
Απαιτείται PHP έκδοσης 8.1 ή νεότερη.
Είναι, επίσης, απαραίτητες οι παρακάτω επεκτάσεις της PHP.

\begin{itemize}
	\item php-intl
	\item php-mbstring
	\item php-json
	\item php-mysqlnd
	\item php-xml
	\item php-curl
\end{itemize}

Τέλος, για το php-curl, είναι απαραίτητη και η εγκατάσταση της βιβλιοθήκης libcurl στο μηχάνημα.

Η πλατφόρμα έχει δοκιμαστεί επιτυχώς με PHP έκδοσης 8.2 και χρήση php-fpm.

\subsection{Βάση Δεδομένων}
Για τη βάση δεδομένων της πλατφόρμας απαιτείται MySQL/MariaDB έκδοσης 5.1 ή νεότερη.

Η πλατφόρμα έχει δοκιμαστεί επιτυχώς με MariaDB έκδοσης 8.1, με χρήση php-mysql και MySQLi DBDriver.

\subsection{Διακομιστής Ιστού}
Ως webserver, μπορεί να χρησιμοποιηθεί οποιοσδήποτε έχει τη δυνατότητα εκτέλεσης PHP κώδικα. Στις απεικονίσεις \ref{lst:apache2-conf} και \ref{lst:nginx-conf} παρέχονται ενδεικτικά παραδείγματα ρύθμισης για Apache2 και Nginx webservers.

Στα παρακάτω παραδείγματα έχουν γίνει οι εξής παραδοχές:
\begin{itemize}
	\item Τα αρχεία της πλατφόρμας βρίσκονται στη διαδρομή \verb!/srv/iboot! του συστήματος.
	\item Η δημόσια διεύθυνση της πλατφόρμας είναι η \verb!iboot.example.com!.
\end{itemize}

\subsubsection{Apache2}
\lstinputlisting[backgroundcolor=\color{yellow!10}, frame=single, caption={Παράδειγμα ρύθμισης Apache2 webserver}, label={lst:apache2-conf}]{Appendices/apache-conf.txt}

Για λειτουργία της πλατφόρμας με Apache2 webserver, είναι απαραίτητη και η ενεργοποίηση του rewrite module του, το οποίο γίνεται με χρήση της εντολής \verb!sudo a2enmod rewrite!.

\subsubsection{Nginx}
\lstinputlisting[backgroundcolor=\color{yellow!10}, frame=single, caption={Παράδειγμα ρύθμισης Nginx webserver}, label={lst:nginx-conf}]{Appendices/nginx-conf.txt}

\textit{\textbf{Σημείωση:} Τα παραπάνω παραδείγματα ρύθμισης webserver \textbf{αντενδείκνυνται} για παραγωγική λειτουργία του συστήματος, καθώς είναι ελλειπή ως προς τη διευθέτηση σοβαρών ζητημάτων ασφαλείας, όπως κρυπτογράφηση TLS.}

\section{Οδηγίες Εγκατάστασης}
\begin{enumerate}
	\item Αντιγραφή των αρχείων της πλατφόρμας στο root path του webserver ή σε υποφάκελό του.
	\item Εκτέλεση της εντολής \verb!composer install --no-dev! για την εγκατάσταση των απαραίτητων βιβλιοθηκών.
	\item Παραχώρηση κατάλληλων δικαιωμάτων στα αρχεία, ώστε να είναι προσβάσιμα από τον webserver.
	\item Δημιουργία βάσης δεδομένων για την πλατφόρμα και του χρήστη με δικαίωμα πρόσβασης σε αυτή.
	\item Αλλαγή ρυθμίσεων και επίσκεψη της πλατφόρμας για ολοκλήρωση εγκατάστασης και εγγραφή Γενικού Διαχειριστή.
\end{enumerate}

\section{Αλλαγή Ρυθμίσεων Πλατφόρμας}
Τα αρχεία που βρίσκονται στη διαδρομή \verb!app/Config/! περιέχουν τις ρυθμίσεις της εφαρμογής με επεξηγηματικά σχόλια για κάθε μια ξεχωριστά. Αλλαγές στις ρυθμίσεις μπορούν να γίνουν με απευθείας επεξεργασία αυτών των αρχείων. Ωστόσο, είναι δυνατή η δημιουργία ενός .env αρχείου, το οποίο παρέχει μεταβλητές περιβάλλοντος, των οποίων οι τιμές υπερκαλύπτουν αυτές των αρχείων της διαδρομής \verb!app/Config/!.

Μαζί με τον κώδικα της εφαρμογής, παρέχεται ένα env αρχείο το οποίο μπορεί κανείς να αντιγράψει ή μετονομάσει σε .env και να κάνει εκεί τις αλλαγές που χρειάζονται για τη ρύθμιση της εγκατάστασης. Στην απεικόνιση \ref{lst:env-file} παρουσιάζεται ένα ενδεικτικό αρχείο .env.

\lstinputlisting[backgroundcolor=\color{yellow!10}, frame=single, caption={Παράδειγμα αρχείου .env}, label={lst:env-file}]{Appendices/env-file.txt}
